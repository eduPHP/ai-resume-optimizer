import{c as a,o,b as s,r as j,f as q,g as R,h as A,d as C,F as h,i as w,u as t,n as z,j as b,k as m,a as n,t as l,l as M,p as V,v as W,w as x,e as _,q as B,m as D}from"./app-DN9iLRsZ.js";import{t as F,u as S,a as P,b as T,c as H,d as I,e as U,f as G,g as Z,h as J,i as K,A as Q,j as X,F as L,k as Y,_ as ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-B3cRC9fI.js";import{c as O,_ as $}from"./loader-circle-CDdhhIU0.js";import{C as te}from"./check-fWUqFex-.js";import"./Label.vue_vue_type_script_setup_true_lang-BxdnDIb9.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BsQAkMZf.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=O("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=O("LinkIcon",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=O("RecycleIcon",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=O("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function le(f,e){return o(),a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}const N=()=>{var i;const f=j(window==null?void 0:window.innerWidth),e=(i=F.theme)==null?void 0:i.screens,u=()=>f.value=window==null?void 0:window.innerWidth;q(()=>window==null?void 0:window.addEventListener("resize",u)),R(()=>window==null?void 0:window.removeEventListener("resize",u));const g=A(()=>f.value<=parseInt(e.xs??"")?"xs":f.value<=parseInt(e.sm??"")?"sm":f.value<=parseInt(e.md??"")?"md":f.value<=parseInt(e.lg??"")?"lg":f.value<=parseInt(e.xl??"")?"xl":"2xl");return{width:A(()=>f.value),breakpoint:g}},ne={"aria-label":"Progress"},ie={role:"list",class:"flex flex-col gap-6 xl:gap-0 xl:flex-row xl:items-center xl:justify-between"},de=["onClick"],pe={type:"button",class:"relative flex size-12 items-center justify-center rounded-full border-green-600 border group-hover:border-green-700"},ue={class:"sr-only"},ce={class:"xl:hidden"},me=["onClick"],fe={class:"relative flex size-12 items-center justify-center rounded-full border-gray-800 dark:border-white border dark:group-hover:border-white/80"},ge={class:""},xe={class:"sr-only"},ye={class:"xl:hidden"},_e=["onClick"],he={class:"relative flex size-12 items-center justify-center rounded-full border-gray-300 dark:border-white/40 border dark:group-hover:border-white/80"},be={class:""},ke={class:"sr-only"},ve={class:"xl:hidden"},we=C({__name:"Steps",setup(f){let e=S();const{breakpoint:u}=N();return(g,r)=>(o(),a("nav",ne,[s("ol",ie,[(o(!0),a(h,null,w(t(e).steps,(i,d)=>(o(),a("li",{key:i.name,class:z([d!==t(e).steps.length-1?"xl:pr-20 w-full":"","relative"])},[t(e).step>d||t(e).step===d&&d===t(e).steps.length-1?(o(),a(h,{key:0},[r[0]||(r[0]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-green-500 border-dashed"})],-1)),s("button",{onClick:k=>t(e).setStep(d),class:z(["group w-full flex gap-6 items-center text-green-600 hover:text-green-700 cursor-pointer",{"dark:bg-[#202020] rounded-tl-2xl":t(e).step===d&&d===t(e).steps.length-1&&!["xl","2xl"].includes(t(u))}])},[s("span",pe,[n(t(le),{class:"size-5","aria-hidden":"true"}),s("span",ue,l(i.name),1)]),s("span",ce,l(i.name),1)],10,de),t(e).currentStep&&t(e).step===d&&d===t(e).steps.length-1&&!["xl","2xl"].includes(t(u))?(o(),b(M({...t(e).currentStep.stepComponent}),{key:0})):m("",!0)],64)):t(e).step===d&&!["xl","2xl"].includes(t(u))?(o(),a(h,{key:1},[r[1]||(r[1]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-gray-800 dark:border-white/40 border-dashed"})],-1)),s("button",{type:"button",onClick:k=>t(e).setStep(d),class:z(["w-full group flex gap-6 items-center dark:text-white hover:text-white/80 cursor-pointer",{"dark:bg-[#202020] rounded-tl-2xl":!["xl","2xl"].includes(t(u))}]),"aria-current":"step"},[s("span",fe,[s("span",ge,l(d+1),1),s("span",xe,l(i.name),1)]),s("span",ye,l(i.name),1)],10,me),["xl","2xl"].includes(t(u))?m("",!0):(o(),b(M({...t(e).currentStep.stepComponent}),{key:0}))],64)):(o(),a(h,{key:2},[r[2]||(r[2]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-gray-400 dark:border-white/40 border-dashed"})],-1)),s("button",{type:"button",onClick:k=>t(e).setStep(d),class:"group flex gap-6 items-center text-gray-400 dark:text-white/40 dark:hover:text-white/80 cursor-pointer","aria-current":"step"},[s("span",he,[s("span",be,l(d+1),1),s("span",ke,l(i.name),1)]),s("span",ve,l(i.name),1)],8,_e)],64))],2))),128))])]))}}),ze={class:"absolute right-2 top-3"},$e={class:"flex flex-col items-stretch gap-2"},Ce={class:"flex items-center justify-between px-3 py-2"},Se=C({__name:"OptimizationPopover",setup(f){const e=S(),u=P(),g=T(),r=j(!1),i=()=>{e.form.status="editing",e.step=0,e.latestStep=3,r.value=!1},d=()=>{e.loading=!0,r.value=!1,K(e).then(y=>{e.setOptimization(y.data.optimization),e.form.status="complete",g.success("Complete Optimization","The optimization was successfully re-generated.")})},k=async()=>{try{const y=e.form.optimizationId;if(!y)return;const p=await Q().put(route("optimizations.toggle-applied",y));p.data.success&&(e.form.applied=p.data.applied,u.replace({id:y,role_company:e.form.role.company,status:e.form.status,applied:p.data.applied,ai_response:e.form.response}),g.success(e.form.applied?"Applied":"Not Applied",`Successfully set as ${e.form.applied?"applied":"not applied"}!`))}catch{g.error("Error","Failed to update application status")}finally{r.value=!1,e.loading=!1}};return(y,p)=>V((o(),a("div",ze,[t(e).form.optimizationId?(o(),b(t(J),{key:0,open:r.value,"onUpdate:open":p[2]||(p[2]=v=>r.value=v)},{default:x(()=>[n(t(H),{"as-child":"",onClick:p[0]||(p[0]=v=>r.value=!1)},{default:x(()=>[n(t(I),{size:"lg",class:"px-4 data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:x(()=>[n(t(se),{class:"ml-auto size-4"})]),_:1})]),_:1}),n(t(U),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"right",align:"start","side-offset":4,"update-position-strategy":"always"},{default:x(()=>[s("div",$e,[t(e).form.role.url?(o(),b(t($),{key:0,"text-position":"left",target:"_blank",as:"a",href:t(e).form.role.url,onClick:p[1]||(p[1]=v=>r.value=!1)},{default:x(()=>[n(t(re)),p[3]||(p[3]=_(" Apply "))]),_:1},8,["href"])):m("",!0),s("div",Ce,[n(t(G),{"model-value":t(e).form.applied,"onUpdate:modelValue":k,disabled:t(e).loading},{default:x(()=>[s("span",{class:z(["text-sm",t(e).form.applied?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"])},l(t(e).form.applied?"Applied":"Not Applied"),3)]),_:1},8,["model-value","disabled"])]),n(t($),{"text-position":"left",disabled:t(e).loading,variant:t(e).loading?"ghost":"outline",type:"button",size:"lg",onClick:d},{default:x(()=>[n(t(oe)),p[4]||(p[4]=_(" Regenerate "))]),_:1},8,["disabled","variant"]),n(t($),{"text-position":"left",disabled:t(e).loading,variant:t(e).loading?"ghost":"outline",type:"button",size:"lg",onClick:i},{default:x(()=>[n(t(ae)),p[5]||(p[5]=_(" Edit "))]),_:1},8,["disabled","variant"]),n(Z,{"text-position":"left"})])]),_:1})]),_:1},8,["open"])):m("",!0)],512)),[[W,!t(e).loading]])}}),Oe={class:"mx-auto flex h-full w-full flex-1 flex-col gap-4 rounded-xl p-4 xl:w-[950px]"},Me={class:"relative bg-gray-300/10 px-8 py-6 dark:bg-[#202020]"},je={class:"flex items-center justify-between"},Ae={class:"flex items-center gap-1"},Le={class:"text-2xl"},qe={class:"mt-4 text-xl"},Ne={class:"text-gray-600 dark:text-gray-400"},Ee={key:0},Re={class:"text-gray-600 dark:text-gray-400"},Ve={class:"text-gray-600 dark:text-gray-400"},We={class:"text-gray-600 dark:text-gray-400"},Be={key:1,class:"mt-6 bg-gray-400 bg-clip-text text-xl text-yellow-500 dark:bg-transparent dark:text-yellow-400"},De={key:2,class:"bg-gray-400 bg-clip-text text-yellow-500 dark:bg-transparent dark:text-yellow-400"},Fe={class:"block"},Pe={class:"block bg-gray-400 bg-clip-text text-yellow-500 dark:bg-transparent dark:text-yellow-400/70"},Te={key:3,class:"mt-6 text-xl text-red-400"},He={key:4,class:"text-red-400"},Ie={class:"block"},Ue={class:"block text-red-400/70"},Ge={key:5,class:"mt-6 text-xl"},Ze={key:6,class:"mb-4 mt-4"},Je={class:"flex flex-col-reverse justify-end gap-2 pb-8 xl:flex-row xl:pb-0"},Ke=C({__name:"CompleteOptimization",setup(f){const e=S(),u=B();return(g,r)=>{var i,d,k,y,p,v;return o(),a("div",Oe,[s("div",Me,[s("div",je,[s("div",Ae,[t(e).form.applied?(o(),b(t(te),{key:0,class:"text-green-400"})):m("",!0),s("h1",Le,l(t(e).form.role.company)+" "+l(t(e).form.role.name)+" Application",1)]),n(Se,{class:"absolute right-2 top-3"})]),s("h2",qe,[r[2]||(r[2]=_(" Compatibility score: ")),s("span",{class:z(["font-bold",t(e).compatibilityStyle])},l(t(e).form.response.compatibility_score)+"%",3),r[3]||(r[3]=_(" Match "))]),s("p",Ne,l(t(e).form.response.reasoning),1),(i=t(e).form.response.top_choice)!=null&&i.length?(o(),a("div",Ee,[r[4]||(r[4]=s("hr",{class:"mx-auto my-8 max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),r[5]||(r[5]=s("h2",{class:"mt-4 text-xl"},"Top Choice Message",-1)),s("p",Re,l(t(e).form.response.top_choice),1)])):m("",!0),r[9]||(r[9]=s("hr",{class:"mx-auto my-8 max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),r[10]||(r[10]=s("h2",{class:"mt-6 text-xl"},"Role Specific Professional Summary",-1)),s("p",Ve,l(t(e).form.response.professional_summary),1),r[11]||(r[11]=s("hr",{class:"mx-auto my-8 max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),r[12]||(r[12]=s("h2",{class:"mt-4 text-xl"},"Alignments:",-1)),(o(!0),a(h,null,w(t(e).form.response.strong_alignments,c=>(o(),a("div",{key:c.title,class:"mt-4"},[s("h3",null,l(c.title),1),s("p",We,l(c.description),1)]))),128)),t(e).form.response.moderate_gaps.length?(o(),a("h2",Be," Moderate Gaps: ")):m("",!0),t(e).form.response.moderate_gaps.length?(o(),a("div",De,[s("ul",null,[(o(!0),a(h,null,w(t(e).form.response.moderate_gaps,c=>(o(),a("li",{key:c.title},[s("span",Fe,l(c.title),1),s("span",Pe,l(c.description),1)]))),128))])])):m("",!0),t(e).form.response.missing_requirements.length?(o(),a("h2",Te,"Missing Requirements:")):m("",!0),t(e).form.response.missing_requirements.length?(o(),a("div",He,[s("ul",null,[(o(!0),a(h,null,w(t(e).form.response.missing_requirements,c=>(o(),a("li",{key:c.title},[s("span",Ie,l(c.title),1),s("span",Ue,l(c.description),1)]))),128))])])):m("",!0),r[13]||(r[13]=s("hr",{class:"mx-auto my-8 max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),(d=t(e).form.response.cover_letter)!=null&&d.length?(o(),a("h2",Ge,"Cover Letter:")):m("",!0),(k=t(e).form.response.cover_letter)!=null&&k.length?(o(),a("div",Ze,[r[8]||(r[8]=s("p",{class:"text-gray-600 dark:text-gray-400"},"Dear Hiring manager,",-1)),(o(!0),a(h,null,w(t(e).form.response.cover_letter??[],(c,E)=>(o(),a("p",{key:`${c}-${E}`,class:"py-2 text-gray-600 dark:text-gray-400"},l(c),1))),128)),s("p",null,[r[6]||(r[6]=_("Regards,")),r[7]||(r[7]=s("br",null,null,-1)),_(l((y=t(u).props.auth)==null?void 0:y.user.name),1)])])):m("",!0)]),s("div",Je,[n(t($),{disabled:t(e).loading||!((p=t(e).form.response.cover_letter)!=null&&p.length),variant:t(e).loading||!((v=t(e).form.response.cover_letter)!=null&&v.length)?"ghost":"outline",type:"button",size:"lg",onClick:r[0]||(r[0]=c=>t(X)(t(e)))},{default:x(()=>[n(t(L)),r[14]||(r[14]=_(" Download Cover Letter "))]),_:1},8,["disabled","variant"]),n(t($),{disabled:t(e).loading,type:"button",size:"lg",onClick:r[1]||(r[1]=c=>t(Y)(t(e)))},{default:x(()=>[n(t(L)),r[15]||(r[15]=_(" Download Optimized Resume "))]),_:1},8,["disabled"])])])}}}),Qe={class:"mx-auto flex h-full w-full min-w-80 flex-1 flex-col gap-4 rounded-xl p-4 xl:w-[950px]"},Xe=C({__name:"OptimizationWizard",setup(f){const e=S(),{breakpoint:u}=N();return(g,r)=>{var i;return o(),a("div",Qe,[n(t(we)),["xl","2xl"].includes(t(u))&&t(e).currentStep?(o(),b(M({...(i=t(e).currentStep)==null?void 0:i.stepComponent}),{key:0})):m("",!0)])}}}),at=C({__name:"Optimization",props:{step:{type:Number,default:0},optimization:{type:Object,default:()=>({})}},setup(f){const e=S(),u=f,g=j([{title:"New Optimization",href:"/optimizations/create"}]);return q(()=>{e.setOptimization(u.optimization),e.form.optimizationId&&(g.value=[{title:"Optimizations",href:"#"},{title:e.form.role.company,href:"/optimizations/"+e.form.optimizationId}])}),(r,i)=>(o(),a(h,null,[n(t(D),{title:t(e).pageTitle},null,8,["title"]),n(ee,{breadcrumbs:g.value},{default:x(()=>[t(e).form.status!=="complete"?(o(),b(Xe,{key:0})):m("",!0),t(e).form.status==="complete"?(o(),b(Ke,{key:1})):m("",!0)]),_:1},8,["breadcrumbs"])],64))}});export{at as default};
