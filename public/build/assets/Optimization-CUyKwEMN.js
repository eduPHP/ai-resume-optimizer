import{t as B,u as w,a as D,b as N,c as V,d as A,e as P,f as T,g as F,h as H,F as q,i as U,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-C7bWVceA.js";import{c as l,o,b as s,r as O,f as M,g as I,h as R,d as z,F as h,i as v,u as e,n as $,j as y,k as x,a as i,t as n,l as S,p as Z,v as J,w as g,e as _,q as K,m as Q}from"./app-BFvinw9c.js";import{c as C,_ as k}from"./Button.vue_vue_type_script_setup_true_lang-BzQxaSbb.js";import"./Label.vue_vue_type_script_setup_true_lang-cYvoPjX2.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BWo56BSs.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=C("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=C("LinkIcon",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=C("RecycleIcon",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=C("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);function se(f,t){return o(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}const E=()=>{var c;const f=O(window==null?void 0:window.innerWidth),t=(c=B.theme)==null?void 0:c.screens,u=()=>f.value=window==null?void 0:window.innerWidth;M(()=>window==null?void 0:window.addEventListener("resize",u)),I(()=>window==null?void 0:window.removeEventListener("resize",u));const p=R(()=>f.value<=parseInt(t.xs??"")?"xs":f.value<=parseInt(t.sm??"")?"sm":f.value<=parseInt(t.md??"")?"md":f.value<=parseInt(t.lg??"")?"lg":f.value<=parseInt(t.xl??"")?"xl":"2xl");return{width:R(()=>f.value),breakpoint:p}},re={"aria-label":"Progress"},oe={role:"list",class:"flex flex-col gap-6 xl:gap-0 xl:flex-row xl:items-center xl:justify-between"},le=["onClick"],ne={type:"button",class:"relative flex size-12 items-center justify-center rounded-full border-green-600 border group-hover:border-green-700"},ae={class:"sr-only"},ie={class:"xl:hidden"},de=["onClick"],ue={class:"relative flex size-12 items-center justify-center rounded-full border-white border group-hover:border-white/80"},pe={class:""},ce={class:"sr-only"},me={class:"xl:hidden"},fe=["onClick"],xe={class:"relative flex size-12 items-center justify-center rounded-full border-white/40 border group-hover:border-white/80"},ge={class:""},_e={class:"sr-only"},he={class:"xl:hidden"},ye=z({__name:"Steps",setup(f){let t=w();const{breakpoint:u}=E();return(p,r)=>(o(),l("nav",re,[s("ol",oe,[(o(!0),l(h,null,v(e(t).steps,(c,a)=>(o(),l("li",{key:c.name,class:$([a!==e(t).steps.length-1?"xl:pr-20 w-full":"","relative"])},[e(t).step>a||e(t).step===a&&a===e(t).steps.length-1?(o(),l(h,{key:0},[r[0]||(r[0]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-green-500 border-dashed"})],-1)),s("button",{onClick:d=>e(t).setStep(a),class:$(["group w-full flex gap-6 items-center text-green-600 hover:text-green-700 cursor-pointer",{"dark:bg-[#202020] rounded-tl-2xl":e(t).step===a&&a===e(t).steps.length-1&&!["xl","2xl"].includes(e(u))}])},[s("span",ne,[i(e(se),{class:"size-5","aria-hidden":"true"}),s("span",ae,n(c.name),1)]),s("span",ie,n(c.name),1)],10,le),e(t).step===a&&a===e(t).steps.length-1&&!["xl","2xl"].includes(e(u))?(o(),y(S({...e(t).currentStep.stepComponent}),{key:0})):x("",!0)],64)):e(t).step===a&&!["xl","2xl"].includes(e(u))?(o(),l(h,{key:1},[r[1]||(r[1]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-gray-400 dark:border-white/40 border-dashed"})],-1)),s("button",{type:"button",onClick:d=>e(t).setStep(a),class:$(["w-full group flex gap-6 items-center text-white hover:text-white/80 cursor-pointer",{"dark:bg-[#202020] rounded-tl-2xl":!["xl","2xl"].includes(e(u))}]),"aria-current":"step"},[s("span",ue,[s("span",pe,n(a+1),1),s("span",ce,n(c.name),1)]),s("span",me,n(c.name),1)],10,de),["xl","2xl"].includes(e(u))?x("",!0):(o(),y(S({...e(t).currentStep.stepComponent}),{key:0}))],64)):(o(),l(h,{key:2},[r[2]||(r[2]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-gray-400 dark:border-white/40 border-dashed"})],-1)),s("button",{type:"button",onClick:d=>e(t).setStep(a),class:"group flex gap-6 items-center text-white/40 hover:text-white/80 cursor-pointer","aria-current":"step"},[s("span",xe,[s("span",ge,n(a+1),1),s("span",_e,n(c.name),1)]),s("span",he,n(c.name),1)],8,fe)],64))],2))),128))])]))}}),be={class:"mx-auto flex h-full w-full xl:w-[950px] min-w-80 flex-1 flex-col gap-4 rounded-xl p-4"},ve=z({__name:"OptimizationWizard",setup(f){const t=w(),{breakpoint:u}=E();return(p,r)=>(o(),l("div",be,[i(e(ye)),["xl","2xl"].includes(e(u))?(o(),y(S({...e(t).currentStep.stepComponent}),{key:0})):x("",!0)]))}}),ke={class:"absolute right-2 top-3"},we={class:"flex items-stretch flex-col gap-2"},ze=z({__name:"OptimizationPopover",setup(f){const t=w(),u=D(),p=O(!1),r=()=>{t.form.status="editing",t.step=0,t.latestStep=3,p.value=!1},c=()=>{t.loading=!0,p.value=!1,F(t).then(a=>{t.setOptimization(a.data.optimization),t.form.status="complete",u.success("Complete Optimization","The optimization was successfully re-generated.")})};return(a,d)=>Z((o(),l("div",ke,[e(t).form.optimizationId?(o(),y(e(T),{key:0,open:p.value,"onUpdate:open":d[2]||(d[2]=b=>p.value=b)},{default:g(()=>[i(e(N),{"as-child":"",onClick:d[0]||(d[0]=b=>p.value=!1)},{default:g(()=>[i(e(V),{size:"lg",class:"data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground px-4"},{default:g(()=>[i(e(X),{class:"ml-auto size-4"})]),_:1})]),_:1}),i(e(A),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"right",align:"start","side-offset":4,"update-position-strategy":"always"},{default:g(()=>[s("div",we,[e(t).form.role.url?(o(),y(e(k),{key:0,"text-position":"left",target:"_blank",as:"a",href:e(t).form.role.url,onClick:d[1]||(d[1]=b=>p.value=!1)},{default:g(()=>[i(e(Y)),d[3]||(d[3]=_(" Apply "))]),_:1},8,["href"])):x("",!0),i(e(k),{"text-position":"left",disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:c},{default:g(()=>[i(e(ee)),d[4]||(d[4]=_(" Regenerate "))]),_:1},8,["disabled","variant"]),i(e(k),{"text-position":"left",disabled:e(t).loading,variant:e(t).loading?"ghost":"outline",type:"button",size:"lg",onClick:r},{default:g(()=>[i(e(te)),d[5]||(d[5]=_(" Edit "))]),_:1},8,["disabled","variant"]),i(P,{"text-position":"left"})])]),_:1})]),_:1},8,["open"])):x("",!0)],512)),[[J,!e(t).loading]])}}),$e={class:"mx-auto flex h-full w-full xl:w-[950px] flex-1 flex-col gap-4 rounded-xl p-4"},Ce={class:"relative bg-gray-300/10 dark:bg-[#202020] px-8 py-6"},Se={class:"text-2xl"},Oe={class:"mt-4 text-xl"},Me={class:"text-gray-600 dark:text-gray-400"},Le={key:0},je={class:"text-gray-600 dark:text-gray-400"},qe={class:"text-gray-600 dark:text-gray-400"},Re={class:"text-gray-600 dark:text-gray-400"},Ee={key:1,class:"mt-6 text-xl text-yellow-400"},We={key:2,class:"text-yellow-400"},Be={class:"block"},De={class:"block text-yellow-400/70"},Ne={key:3,class:"mt-6 text-red-400 text-xl"},Ve={key:4,class:"text-red-400"},Ae={class:"block"},Pe={class:"block text-red-400/70"},Te={key:5,class:"mt-6 text-xl"},Fe={key:6,class:"mt-4 mb-4"},He={class:"flex flex-col-reverse xl:flex-row justify-end gap-2 pb-8 xl:pb-0"},Ue=z({__name:"CompleteOptimization",setup(f){const t=w(),u=K();return M(()=>{var p;t.setAISettings((p=u.props.auth)==null?void 0:p.user.ai_settings)}),(p,r)=>{var c,a,d,b,L,j;return o(),l("div",$e,[s("div",Ce,[s("h1",Se,n(e(t).form.role.company)+" "+n(e(t).form.role.name)+" Application",1),s("h2",Oe,[r[2]||(r[2]=_("Compatibility score: ")),s("span",{class:$(["font-bold",e(t).compatibilityStyle])},n(e(t).form.response.compatibility_score)+"%",3),r[3]||(r[3]=_(" Match"))]),s("p",Me,n(e(t).form.response.reasoning),1),(c=e(t).form.response.top_choice)!=null&&c.length?(o(),l("div",Le,[r[4]||(r[4]=s("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),r[5]||(r[5]=s("h2",{class:"mt-4 text-xl"},"Top Choice Message",-1)),s("p",je,n(e(t).form.response.top_choice),1)])):x("",!0),r[9]||(r[9]=s("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),r[10]||(r[10]=s("h2",{class:"mt-6 text-xl"},"Role Specific Professional Summary",-1)),s("p",qe,n(e(t).form.response.professional_summary),1),r[11]||(r[11]=s("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),r[12]||(r[12]=s("h2",{class:"mt-4 text-xl"},"Alignments:",-1)),(o(!0),l(h,null,v(e(t).form.response.strong_alignments,m=>(o(),l("div",{key:m.title,class:"mt-4"},[s("h3",null,n(m.title),1),s("p",Re,n(m.description),1)]))),128)),e(t).form.response.moderate_gaps.length?(o(),l("h2",Ee,"Moderate Gaps:")):x("",!0),e(t).form.response.moderate_gaps.length?(o(),l("div",We,[s("ul",null,[(o(!0),l(h,null,v(e(t).form.response.moderate_gaps,m=>(o(),l("li",{key:m.title},[s("span",Be,n(m.title),1),s("span",De,n(m.description),1)]))),128))])])):x("",!0),e(t).form.response.missing_requirements.length?(o(),l("h2",Ne,"Missing Requirements:")):x("",!0),e(t).form.response.missing_requirements.length?(o(),l("div",Ve,[s("ul",null,[(o(!0),l(h,null,v(e(t).form.response.missing_requirements,m=>(o(),l("li",{key:m.title},[s("span",Ae,n(m.title),1),s("span",Pe,n(m.description),1)]))),128))])])):x("",!0),r[13]||(r[13]=s("hr",{class:"my-8 mx-auto max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),(a=e(t).form.response.cover_letter)!=null&&a.length?(o(),l("h2",Te,"Cover Letter:")):x("",!0),(d=e(t).form.response.cover_letter)!=null&&d.length?(o(),l("div",Fe,[r[8]||(r[8]=s("p",{class:"text-gray-600 dark:text-gray-400"},"Dear Hiring manager,",-1)),(o(!0),l(h,null,v(e(t).form.response.cover_letter??[],(m,W)=>(o(),l("p",{key:`${m}-${W}`,class:"py-2 text-gray-600 dark:text-gray-400"},n(m),1))),128)),s("p",null,[r[6]||(r[6]=_("Regards,")),r[7]||(r[7]=s("br",null,null,-1)),_(n((b=e(u).props.auth)==null?void 0:b.user.name),1)])])):x("",!0),i(ze,{class:"absolute right-2 top-3"})]),s("div",He,[i(e(k),{disabled:e(t).loading||!((L=e(t).form.response.cover_letter)!=null&&L.length),variant:e(t).loading||!((j=e(t).form.response.cover_letter)!=null&&j.length)?"ghost":"outline",type:"button",size:"lg",onClick:r[0]||(r[0]=m=>e(H)(e(t)))},{default:g(()=>[i(e(q)),r[14]||(r[14]=_(" Download Cover Letter "))]),_:1},8,["disabled","variant"]),i(e(k),{disabled:e(t).loading,type:"button",size:"lg",onClick:r[1]||(r[1]=m=>e(U)(e(t)))},{default:g(()=>[i(e(q)),r[15]||(r[15]=_(" Download Optimized Resume "))]),_:1},8,["disabled"])])])}}}),Qe=z({__name:"Optimization",props:{step:{type:Number,default:0},optimization:{type:Object,default:()=>({})}},setup(f){const t=w(),u=f,p=O([{title:"New Optimization",href:"/optimizations/create"}]);return M(()=>{t.setOptimization(u.optimization),t.form.optimizationId&&(p.value=[{title:"Optimizations",href:"#"},{title:t.form.role.company,href:"/optimizations/"+t.form.optimizationId}])}),(r,c)=>(o(),l(h,null,[i(e(Q),{title:e(t).pageTitle},null,8,["title"]),i(G,{breadcrumbs:p.value},{default:g(()=>[e(t).form.status!=="complete"?(o(),y(ve,{key:0})):x("",!0),e(t).form.status==="complete"?(o(),y(Ue,{key:1})):x("",!0)]),_:1},8,["breadcrumbs"])],64))}});export{Qe as default};
