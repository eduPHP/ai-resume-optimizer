import{c as l,o as r,b as s,r as A,f as F,g as D,h as M,d as C,F as b,i as z,u as t,n as k,j as v,k as g,a as p,t as n,l as j,p as U,v as H,w as h,e as y,q as G,m as Y,s as Z,W as J}from"./app-zFuM9G68.js";import{t as K,u as S,a as I,b as Q,c as X,d as ee,e as te,f as se,g as oe,h as re,i as le,A as ae,j as ne,F as B,k as ie,_ as de,l as pe}from"./AppLayout.vue_vue_type_script_setup_true_lang-BsXywWgD.js";import{c as O,_ as $,a as ue}from"./loader-circle-DVv48EtV.js";import{C as ce}from"./check-Cg1Cwl_M.js";import"./Label.vue_vue_type_script_setup_true_lang-BxFbuEby.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-D7jIEsX3.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=O("EllipsisVerticalIcon",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=O("LinkIcon",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=O("RecycleIcon",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=O("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=O("TriangleAlertIcon",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function he(x,e){return r(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}const P=()=>{var o;const x=A(window==null?void 0:window.innerWidth),e=(o=K.theme)==null?void 0:o.screens,f=()=>x.value=window==null?void 0:window.innerWidth;F(()=>window==null?void 0:window.addEventListener("resize",f)),D(()=>window==null?void 0:window.removeEventListener("resize",f));const d=M(()=>x.value<=parseInt(e.xs??"")?"xs":x.value<=parseInt(e.sm??"")?"sm":x.value<=parseInt(e.md??"")?"md":x.value<=parseInt(e.lg??"")?"lg":x.value<=parseInt(e.xl??"")?"xl":"2xl");return{width:M(()=>x.value),breakpoint:d}},_e={"aria-label":"Progress"},be={role:"list",class:"flex flex-col gap-6 xl:gap-0 xl:flex-row xl:items-center xl:justify-between"},ve=["onClick"],ke={type:"button",class:"relative flex size-12 items-center justify-center rounded-full border-green-600 border group-hover:border-green-700"},we={class:"sr-only"},ze={class:"xl:hidden"},$e=["onClick"],Ce={class:"relative flex size-12 items-center justify-center rounded-full border-gray-800 dark:border-white border dark:group-hover:border-white/80"},Se={class:""},Oe={class:"sr-only"},Me={class:"xl:hidden"},je=["onClick"],Ae={class:"relative flex size-12 items-center justify-center rounded-full border-gray-300 dark:border-white/40 border dark:group-hover:border-white/80"},qe={class:""},Le={class:"sr-only"},Ee={class:"xl:hidden"},Ne=C({__name:"Steps",setup(x){let e=S();const{breakpoint:f}=P();return(d,a)=>(r(),l("nav",_e,[s("ol",be,[(r(!0),l(b,null,z(t(e).steps,(o,i)=>(r(),l("li",{key:o.name,class:k([i!==t(e).steps.length-1?"xl:pr-20 w-full":"","relative"])},[t(e).step>i||t(e).step===i&&i===t(e).steps.length-1?(r(),l(b,{key:0},[a[0]||(a[0]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-green-500 border-dashed"})],-1)),s("button",{onClick:m=>t(e).setStep(i),class:k(["group w-full flex gap-6 items-center text-green-600 hover:text-green-700 cursor-pointer",{"dark:bg-[#202020] rounded-tl-2xl":t(e).step===i&&i===t(e).steps.length-1&&!["xl","2xl"].includes(t(f))}])},[s("span",ke,[p(t(he),{class:"size-5","aria-hidden":"true"}),s("span",we,n(o.name),1)]),s("span",ze,n(o.name),1)],10,ve),t(e).currentStep&&t(e).step===i&&i===t(e).steps.length-1&&!["xl","2xl"].includes(t(f))?(r(),v(j({...t(e).currentStep.stepComponent}),{key:0})):g("",!0)],64)):t(e).step===i&&!["xl","2xl"].includes(t(f))?(r(),l(b,{key:1},[a[1]||(a[1]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-gray-800 dark:border-white/40 border-dashed"})],-1)),s("button",{type:"button",onClick:m=>t(e).setStep(i),class:k(["w-full group flex gap-6 items-center dark:text-white hover:text-white/80 cursor-pointer",{"dark:bg-[#202020] rounded-tl-2xl":!["xl","2xl"].includes(t(f))}]),"aria-current":"step"},[s("span",Ce,[s("span",Se,n(i+1),1),s("span",Oe,n(o.name),1)]),s("span",Me,n(o.name),1)],10,$e),["xl","2xl"].includes(t(f))?g("",!0):(r(),v(j({...t(e).currentStep.stepComponent}),{key:0}))],64)):(r(),l(b,{key:2},[a[2]||(a[2]=s("div",{class:"hidden absolute inset-0 xl:flex items-center","aria-hidden":"true"},[s("div",{class:"ml-12 h-0.5 w-full border-t border-gray-400 dark:border-white/40 border-dashed"})],-1)),s("button",{type:"button",onClick:m=>t(e).setStep(i),class:"group flex gap-6 items-center text-gray-400 dark:text-white/40 dark:hover:text-white/80 cursor-pointer","aria-current":"step"},[s("span",Ae,[s("span",qe,n(i+1),1),s("span",Le,n(o.name),1)]),s("span",Ee,n(o.name),1)],8,je)],64))],2))),128))])]))}}),Re={class:"absolute right-2 top-3"},Te={class:"flex flex-col items-stretch gap-2"},We={class:"flex items-center justify-between px-3 py-2"},Be=C({__name:"OptimizationPopover",setup(x){const e=S(),f=I(),d=Q(),a=A(!1),o=()=>{e.form.status="editing",e.step=0,e.latestStep=3,a.value=!1},i=()=>{e.loading=!0,a.value=!1,le(e).then(_=>{e.setOptimization(_.data.optimization),e.form.status="complete",d.success("Complete Optimization","The optimization was successfully re-generated.")})},m=async()=>{try{const _=e.form.optimizationId;if(!_)return;const c=await ae().put(route("optimizations.toggle-applied",_));c.data.success&&(e.form.applied=c.data.applied,f.replace({id:_,role_company:e.form.role.company,status:e.form.status,applied:c.data.applied,ai_response:e.form.response}),d.success(e.form.applied?"Applied":"Not Applied",`Successfully set as ${e.form.applied?"applied":"not applied"}!`))}catch(_){console.error("Error toggling applied status:",_),d.error("Error","Failed to update application status")}finally{a.value=!1,e.loading=!1}};return(_,c)=>U((r(),l("div",Re,[t(e).form.optimizationId?(r(),v(t(re),{key:0,open:a.value,"onUpdate:open":c[2]||(c[2]=w=>a.value=w)},{default:h(()=>[p(t(X),{"as-child":"",onClick:c[0]||(c[0]=w=>a.value=!1)},{default:h(()=>[p(t(ee),{size:"lg",class:"px-4 data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"},{default:h(()=>[p(t(me),{class:"ml-auto size-4"})]),_:1})]),_:1}),p(t(te),{class:"w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg",side:"right",align:"start","side-offset":4,"update-position-strategy":"always"},{default:h(()=>[s("div",Te,[t(e).form.role.url?(r(),v(t($),{key:0,"text-position":"left",target:"_blank",as:"a",href:t(e).form.role.url,onClick:c[1]||(c[1]=w=>a.value=!1)},{default:h(()=>[p(t(fe)),c[3]||(c[3]=y(" Apply "))]),_:1},8,["href"])):g("",!0),s("div",We,[p(t(se),{"model-value":t(e).form.applied,"onUpdate:modelValue":m,disabled:t(e).loading},{default:h(()=>[s("span",{class:k(["text-sm",t(e).form.applied?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"])},n(t(e).form.applied?"Applied":"Not Applied"),3)]),_:1},8,["model-value","disabled"])]),p(t($),{"text-position":"left",disabled:t(e).loading,variant:t(e).loading?"ghost":"outline",type:"button",size:"lg",onClick:i},{default:h(()=>[p(t(ge)),c[4]||(c[4]=y(" Regenerate "))]),_:1},8,["disabled","variant"]),p(t($),{"text-position":"left",disabled:t(e).loading,variant:t(e).loading?"ghost":"outline",type:"button",size:"lg",onClick:o},{default:h(()=>[p(t(xe)),c[5]||(c[5]=y(" Edit "))]),_:1},8,["disabled","variant"]),p(oe,{"text-position":"left"})])]),_:1})]),_:1},8,["open"])):g("",!0)],512)),[[H,!t(e).loading]])}}),Fe={class:"mx-auto flex h-full w-full flex-1 flex-col gap-4 rounded-xl p-4 xl:w-[950px]"},Ie={class:"relative bg-gray-300/10 px-8 py-6 dark:bg-[#202020]"},Pe={class:"flex items-center justify-between"},Ve={class:"flex items-center gap-1"},De={class:"text-2xl"},Ue={class:"mb-4 mt-6 text-xl"},He={class:"text-gray-600 dark:text-gray-400"},Ge={key:0},Ye={class:"text-gray-600 dark:text-gray-400"},Ze={class:"text-gray-600 dark:text-gray-400"},Je={class:"space-y-2"},Ke={class:"block"},Qe={class:"block text-gray-600 dark:text-gray-400"},Xe={key:1,class:"mb-4 mt-6 bg-gray-400 bg-clip-text text-xl text-yellow-500 dark:bg-transparent dark:text-yellow-400"},et={key:2,class:"bg-gray-400 bg-clip-text text-yellow-500 dark:bg-transparent dark:text-yellow-400"},tt={class:"space-y-2"},st={class:"block"},ot={class:"block bg-gray-400 bg-clip-text text-yellow-500 dark:bg-transparent dark:text-yellow-400/70"},rt={key:3,class:"mb-4 mt-6 text-xl text-red-400"},lt={key:4,class:"text-red-400"},at={class:"block"},nt={class:"block text-red-400/70"},it={key:5,class:"mb-4 mt-6 text-xl text-red-400"},dt={key:6,class:"text-red-400"},pt={class:"block"},ut={class:"block text-red-400/70"},ct={key:7,class:"mt-6 text-xl"},mt={key:8,class:"mb-4 mt-4"},ft={class:"flex flex-col-reverse justify-end gap-2 pb-8 xl:flex-row xl:pb-0"},gt=C({__name:"CompleteOptimization",setup(x){const e=S(),f=G(),d=M(()=>{const a={};for(const o of e.form.response.findings)a[o.group]||(a[o.group]=[]),a[o.group].push(o);return a});return(a,o)=>{var i,m,_,c,w,q,L,E,N,R,T,W;return r(),l("div",Fe,[s("div",Ie,[s("div",Pe,[s("div",Ve,[t(e).form.applied?(r(),v(t(ce),{key:0,class:"text-green-400"})):g("",!0),s("h1",De,n(t(e).form.role.company)+" "+n(t(e).form.role.name)+" Application",1)]),p(Be,{class:"absolute right-2 top-3"})]),s("h2",Ue,[o[2]||(o[2]=y(" Compatibility score: ")),s("span",{class:k(["font-bold",t(e).compatibilityStyle])},n(t(e).form.response.compatibility_score)+"%",3),o[3]||(o[3]=y(" Match "))]),s("p",He,n(t(e).form.response.reasoning),1),(i=t(e).form.response.top_choice)!=null&&i.length?(r(),l("div",Ge,[o[4]||(o[4]=s("hr",{class:"mx-auto my-8 max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),o[5]||(o[5]=s("h2",{class:"mb-4 mt-6 text-xl"},"Top Choice Message",-1)),s("p",Ye,n(t(e).form.response.top_choice),1)])):g("",!0),o[9]||(o[9]=s("hr",{class:"mx-auto my-8 max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),o[10]||(o[10]=s("h2",{class:"mb-4 mt-6 text-xl"},"Role Specific Professional Summary",-1)),s("p",Ze,n(t(e).form.response.professional_summary),1),o[11]||(o[11]=s("hr",{class:"mx-auto my-8 max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),o[12]||(o[12]=s("h2",{class:"my-4 text-xl"},"Alignments:",-1)),s("ul",Je,[(r(!0),l(b,null,z(d.value.strong_alignment,u=>(r(),l("li",{key:u.title},[s("span",Ke,n(u.title),1),s("span",Qe,n(u.description),1)]))),128))]),(m=d.value.moderate_gap)!=null&&m.length?(r(),l("h2",Xe," Moderate Gaps: ")):g("",!0),(_=d.value.moderate_gap)!=null&&_.length?(r(),l("div",et,[s("ul",tt,[(r(!0),l(b,null,z(d.value.moderate_gap,u=>(r(),l("li",{key:u.title},[s("span",st,n(u.title),1),s("span",ot,n(u.description),1)]))),128))])])):g("",!0),(c=d.value.missing_requirement)!=null&&c.length?(r(),l("h2",rt,"Missing Requirements:")):g("",!0),(w=d.value.missing_requirement)!=null&&w.length?(r(),l("div",lt,[s("ul",null,[(r(!0),l(b,null,z(d.value.missing_requirement,u=>(r(),l("li",{key:u.title},[s("span",at,n(u.title),1),s("span",nt,n(u.description),1)]))),128))])])):g("",!0),(q=d.value.issue)!=null&&q.length?(r(),l("h2",it,"Issues:")):g("",!0),(L=d.value.issue)!=null&&L.length?(r(),l("div",dt,[s("ul",null,[(r(!0),l(b,null,z(d.value.issue,u=>(r(),l("li",{key:u.title},[s("span",pt,n(u.title),1),s("span",ut,n(u.description),1)]))),128))])])):g("",!0),o[13]||(o[13]=s("hr",{class:"mx-auto my-8 max-w-xl border-t border-gray-300 dark:border-gray-500"},null,-1)),(E=t(e).form.response.cover_letter)!=null&&E.length?(r(),l("h2",ct,"Cover Letter:")):g("",!0),(N=t(e).form.response.cover_letter)!=null&&N.length?(r(),l("div",mt,[o[8]||(o[8]=s("p",{class:"text-gray-600 dark:text-gray-400"},"Dear Hiring manager,",-1)),(r(!0),l(b,null,z(t(e).form.response.cover_letter??[],(u,V)=>(r(),l("p",{key:`${u}-${V}`,class:"py-2 text-gray-600 dark:text-gray-400"},n(u),1))),128)),s("p",null,[o[6]||(o[6]=y("Regards,")),o[7]||(o[7]=s("br",null,null,-1)),y(n((R=t(f).props.auth)==null?void 0:R.user.name),1)])])):g("",!0)]),s("div",ft,[p(t($),{disabled:t(e).loading||!((T=t(e).form.response.cover_letter)!=null&&T.length),variant:t(e).loading||!((W=t(e).form.response.cover_letter)!=null&&W.length)?"ghost":"outline",type:"button",size:"lg",onClick:o[0]||(o[0]=u=>t(ne)(t(e)))},{default:h(()=>[p(t(B)),o[14]||(o[14]=y(" Download Cover Letter "))]),_:1},8,["disabled","variant"]),p(t($),{disabled:t(e).loading,type:"button",size:"lg",onClick:o[1]||(o[1]=u=>t(ie)(t(e)))},{default:h(()=>[p(t(B)),o[15]||(o[15]=y(" Download Optimized Resume "))]),_:1},8,["disabled"])])])}}}),xt={class:"mx-auto flex h-full w-full min-w-80 flex-1 flex-col gap-4 rounded-xl p-4 xl:w-[950px]"},yt=C({__name:"OptimizationWizard",setup(x){const e=S(),{breakpoint:f}=P();return(d,a)=>{var o;return r(),l("div",xt,[p(t(Ne)),["xl","2xl"].includes(t(f))&&t(e).currentStep?(r(),v(j({...(o=t(e).currentStep)==null?void 0:o.stepComponent}),{key:0})):g("",!0)])}}}),ht=C({__name:"InfiniteProgressBar",props:{class:{}},setup(x){const e=x;return(f,d)=>(r(),l("div",{class:k(t(ue)("w-full h-1 bg-blue-500 rounded overflow-hidden",e.class))},d[0]||(d[0]=[s("div",{class:"h-1 bg-gradient-to-r from-blue-500 via-purple-300 to-pink-300 animate-slide rounded"},null,-1)]),2))}}),_t={key:0,class:"flex h-full flex-col items-center justify-center space-y-2"},bt={key:1,class:"flex h-[85vh] flex-col items-center justify-center px-4"},vt={class:"flex items-center text-2xl font-bold"},Ot=C({__name:"Optimization",props:{step:{type:Number,default:0},optimization:{type:Object,default:()=>({})}},setup(x){const e=S(),f=I(),d=x,a=A([{title:"New Optimization",href:"/optimizations/create"}]),o=()=>{e.form.status="processing",pe().then(i=>{e.setOptimization(i.data.optimization),f.replace(i.data.optimization),J.visit(route("optimizations.show",i.data.optimization.id),{preserveState:!0})})};return F(()=>{e.setOptimization(d.optimization),e.form.optimizationId&&(a.value=[{title:"Optimizations",href:"#"},{title:e.form.role.company,href:"/optimizations/"+e.form.optimizationId}])}),(i,m)=>(r(),l(b,null,[p(t(Y),{title:t(e).pageTitle},null,8,["title"]),p(de,{breadcrumbs:a.value},{default:h(()=>[t(e).form.status==="processing"?(r(),l("div",_t,[m[0]||(m[0]=s("h1",{class:"text-2xl font-bold"},"Optimization In Progress",-1)),p(ht,{class:"max-w-xs"}),m[1]||(m[1]=s("p",{class:"text-center text-gray-400"},[y(" This might take a minute or two or three... "),s("br"),y(" You will be notified (here) when it is done ;) ")],-1))])):g("",!0),t(e).form.status==="failed"?(r(),l("div",bt,[s("h1",vt,[p(t(ye),{class:"mb-1 mr-2 text-yellow-600 dark:text-yellow-300"}),m[2]||(m[2]=y("Optimization Failed "))]),m[4]||(m[4]=s("p",{class:"mt-2 text-center text-gray-400"},[y(" There were some problem processing this optimization request. "),s("br"),y(" Although we won't provide you with an specific reason yet, you can retry it if you want. ")],-1)),p(t($),{type:"button",size:"lg",class:k(["mt-6 select-none xl:flex-none",{"cursor-not-allowed":t(e).loading}]),disabled:t(e).loading,onClick:Z(o,["prevent"])},{default:h(()=>m[3]||(m[3]=[y("Retry")])),_:1},8,["class","disabled"])])):["draft","pending","editing"].includes(t(e).form.status)?(r(),v(yt,{key:2})):t(e).form.status==="complete"?(r(),v(gt,{key:3})):g("",!0)]),_:1},8,["breadcrumbs"])],64))}});export{Ot as default};
